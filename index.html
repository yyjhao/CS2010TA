<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>CS2010 Lab Demo</title>
		<base target="_blank">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
		<style>
			.reveal pre:not(.small-code){
				font-size: 1.2em;
				line-height: 1;
			}

			.reveal code{
				color: darkgreen;
			}

			.reveal pre code{
				color: #eee;
			}

			.reveal strong{
				color: brown;
			}
		</style>
	</head>

	<body>
		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<section>
						<h1>CS2010 Lab 01</h1>
					</section>
					<section>
						<h2>About Me</h2>
						<ul>
							<li>Yao Yujian</li>
							<li>yyjhao@gmail.com</li>
							<li>Please indicate [CS2010] in the title of your email</li>
						</ul>
					</section>
					<section>
						<h2>Attendance</h2>						
					</section>
					<section>
						<h2>
							Coursemology
						</h2>
						<ul>
							<li><a href="http://coursemology.com/courses/20">http://coursemology.com/courses/20</a></li>
							<li>Download the PS1 Files</li>
							<li>Do not need to submit to Coursemology</li>
							<li>
								Coursemology is for
								<ul>
									<li>Downloading PS packages</li>
									<li>Viewing your scores and achievements</li>
								</ul>
							</li>
							<li>Submit to Mooshak</li>
						</ul>
					</section>
					<section>
						<h2>Mooshak</h2>
						<ul>
							<li><a href="http://algorithmics.comp.nus.edu.sg/~mooshak">http://algorithmics.comp.nus.edu.sg/~mooshak</a></li>
							<li>Password has been sent to you by email</li>
							<li>
								Automatic and instant grading!
								<ul>
									<li><strong>AC</strong>(cepted)</li>
									<li><strong>W</strong>rong <strong>A</strong>nswer</li>
									<li><strong>T</strong>ime <strong>L</strong>imit <strong>E</strong>xceeded</li>
									<li><strong>R</strong>un <strong>T</strong>ime <strong>E</strong>rror </li>
									<li><strong>C</strong>ompile <strong>T</strong>ime <strong>E</strong>rror</li>
								</ul>
							</li>
							<li>Unless there are specific constraints (like PS1 Subtask 3/ Problem C), if you get your code AC, you will get that amount of marks as stated in the problem description</li>
							<li>However, post-deadline penalty (e.g. your code are found to be a very similar copy of someone else’s code) can still alter the score</li>
						</ul>
					</section>
					<section>
						<h2>The Problem Sets</h2>
						<ul>
							<li>Subtask 1 is always the easiest, but low marks</li>
							<li>Subtask 2 (or also 3) is/are CS2010 standard, medium marks</li>
							<li>The last (or the R) Subtask is quite challenging, but low marks</li>
						</ul>
					</section>
					<section data-markdown>
						## PS1 - The Baby Names
						- Subtask 1/Problem A
							- How many names start with a certain letter?
						- Subtask 2+3/Problem B+C
							- How many names start with a certain prefix?
						- Problem B and C have the same test data
						- Problem B has 10s time limit but problem C only has 1s (STRICT)
						- For problem C, you also need to write your own **balanced** BST++!
						- Subtask R/Problem D/Very Hard/CS2010R:
							- How many names have a certain substring?
					</section>
					<section data-markdown>
						## Week 0 UVa problems
						1. UVa 579 (to revise your Java skill)
						2. UVa 10855 (to revise your knowledge about Array)
						3. UVa 11988 (to revise your knowledge about Linked List)
						4. UVa 11111 (to revise your knowledge about Stack)
						5. UVa 10901 (to revise your knowledge about Queue)
						6. UVa 10258 (to revise your knowledge about Sorting)
						7. UVa 11340 (to revise your knowledge about Hashing)
					</section>
					<section data-markdown>
						## Focus on [UVa 10901](http://uva.onlinejudge.org/index.php?option=onlinejudge&page=show_problem&problem=1842)
					</section>
					<section data-markdown>
						## That's all

						- More hints on solving PS1 will be given next week
						- But it is good if you try them first
						- Even better: Solve them without those extra hints

						- Remember: If you keep delaying your first attempt for PS1, you may run out of time even though you virtually have 2 weeks working time for PS1(23 Aug to 7 Sep)

					</section>
				</section>
				<section>
					<section data-markdown>
						# CS2010 Lab 02
					</section>
					<section data-markdown>
						## `TreeSet` and `TreeMap`
						* Both uses the same underlying data structure BBST
							* http://docs.oracle.com/javase/6/docs/api/java/util/TreeMap.html
							* http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html
						* Feel Free to Explore other methods
					</section>
					<section>
						<h2>Case study: Indexing City Names</h2>
						<ul>
							<li>Given some cities</li>
							<li>Connect some of them</li>
						</ul>
						<pre><code contentEditable>
TreeMap&lt;String, Integer&gt; nameToNum = new TreeMap&lt;String, Integer&gt;();
if(!nameToNum.containsKey(name)){
    nameToNum.put(name, nameToNum.size());
}
						</code></pre>
					</section>
					<section data-markdown>
						## Why check the API?
						* There is one method in TreeMap and TreeSet that can be very very useful for PS1 Subtask 2
							* Method subMap(fromKey, toKey) in TreeMap
							* Method subSet(fromKey, toKey) in TreeSet
						* Which one to use for PS1 Subtask 2?
					</section>
					<section data-markdown>
						## Subtask 3
						* Additional constraint
						* Need to emulate subSet(fromKey, toKey) of TreeSet *efficiently*
							* First, you BST has to be balanced
							* Second, your “subSet” method has to run in O(log n)
							* many students still have O(n) here
						* You have 1.5 more days before PS1 deadline \_(:3J∠)_
					</section>
					<section data-markdown>
						## Subtask R
						* If you are interested...
							* Not tested in CS2010
							* Forget about BBST
							* String Processing, Bioinformatics
							* Read the book!
					</section>
					<section data-markdown>
						## PS2 Overview

						Priority Queue
					</section>
					<section data-markdown>
						## Q ? A : End();
					</section>
				</section>
				<section>
					<section data-markdown>
						# CS2010 E-Lab 03
						## Read this on your own
					</section>
					<section data-markdown>
						## About PS1
						* Bugs in rotations, insertion, balancing
							* If your C code fail B, this is likely the cause
							* Remember to re-assign the return value of your rotation to the left/right
							* Because after rotation, the parent node now have a different child node
						* TLE for C
							* Likely because your algorithm runs in O(N)
							* Because it traverses to count all nodes in the range
							* Need to reduce the runtime to O(log(N))
						* **However**! The test cases on Mooshak is weak...
							* Some manage to get AC even with O(N) algorithm...
					</section>
					<section data-markdown>
						## (Intended) Solution for Subtask C
						* You don't need to go through every node in the range!
						* Write a Balanced BST routine
							* e.g. AVL Tree (or something else if you are pro)
						* Make sure the rotateLeft/rotateRight operations and all the 4 cases during insertion are handled without bug (use PS1 Subtask 2 to check)
						* Notice that AVL Tree deletion is not needed
							* Try implementing it if you want to...
						* Augment this BST with “size” attribute
							* so that you can get a “rank” of a certain vertex in O(1) after you search it in O(log n)
							* See the next slide for (an almost complete) solution
						* Then, the answer is rank(upperbound)-rank(lowerbound)
						* **We split the boys and girls baby names into TWO bBSTs!**
					</section>
					<section>
						<img src="images/ps1.png">
					</section>
					<section>
						<h2>PS2</h2>
						<h3>PriorityQueue</h3>
						<ul>
						<li> There's a Java API for that </li>
						<li> <a href="http://docs.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html">http://docs.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html</a> </li>
						<li> Here's also an example </li>
						</ul>
						<pre class="small-code"><code contentEditable>
// copy and paste this to your text editor for better reading experience
// credit: ch2_06_priority_queue.java from CP3 book
import java.util.*;

class pair &lt; X, Y &gt; { // utilizing Java "Generics"
  X _first;
  Y _second;

  public pair(X f, Y s) { _first = f; _second = s; }

  X first() { return _first; }
  Y second() { return _second; }

  void setFirst(X f) { _first = f; }
  void setSecond(Y s) { _second = s; }
}

class ch2_06_priority_queue {
  public static void main(String[] args) {
    // introducing 'pair'
    // take note of the use of comparator
    PriorityQueue &lt; pair &lt; Integer, String &gt; &gt; pq = new PriorityQueue &lt; pair &lt; Integer, String &gt; &gt;(1, 
      new Comparator&lt; pair &lt; Integer, String &gt; &gt;() { // overriding the compare method
        public int compare(pair &lt; Integer, String &gt; i, pair &lt; Integer, String &gt; j) {
          return j.first() - i.first(); // currently max heap, reverse these two to try produce min-heap
        }
      }
    );

    // suppose we enter these 7 money-name pairs below
    /*
    100 john
    10 billy
    20 andy
    100 steven
    70 felix
    2000 grace
    70 martin
    */
    pq.offer(new pair &lt; Integer, String &gt; (100, "john")); // inserting a pair in O(log n)
    pq.offer(new pair &lt; Integer, String &gt; (10, "billy"));
    pq.offer(new pair &lt; Integer, String &gt; (20, "andy"));
    pq.offer(new pair &lt; Integer, String &gt; (100, "steven"));
    pq.offer(new pair &lt; Integer, String &gt; (70, "felix"));
    pq.offer(new pair &lt; Integer, String &gt; (2000, "grace"));
    pq.offer(new pair &lt; Integer, String &gt; (70, "martin"));
    // this is how we use Java PriorityQueue
    // priority queue will arrange items in 'heap' based
    // on the first key in pair, which is money (integer), largest first
    // if first keys tied, use second key, which is name, largest first
  
    // the internal content of pq heap MAY be something like this:
    // re-read (max) heap concept if you do not understand this diagram
    // the primary keys are money (integer), secondary keys are names (string)!
    //                        (2000,grace)
    //           (100,steven)               (70,martin)   
    //     (100,john)   (10,billy)     (20,andy)  (70,felix)

    // let's print out the top 3 person with most money
    pair&lt;Integer, String&gt; result = pq.poll(); // O(1) to access the top / max element + O(log n) removal of the top and repair the structure
    System.out.println(result.second() + " has " + result.first() + " $");
    result = pq.poll();
    System.out.println(result.second() + " has " + result.first() + " $");
    result = pq.poll();
    System.out.println(result.second() + " has " + result.first() + " $");
  }
}

</code></pre>
					</section>
					<section data-markdown>
						## E-Mission
						1. `goto` http://rosemarietan.com/fyp/heap.html
						2. You will see a default Max Heap of this 1-based compact array {n/a, 90, 19, 36, 17, 3, 25, 1, 2, 7}
						3. Can you convert the same set of integers from the default Max Heap into a Min Heap?
							* Without changing anything else from this visualization!
						4. One of you can Post the answer in [FB group](https://www.facebook.com/groups/241724769269875/), the rest can see the answer there
					</section>
					<section data-markdown>
						## Solution for Subtask 1
						* Obviously PQ
						* You can use the `PriorityQueue` shown just now
							1. Implement a `woman` object
								* **Important note**: Real life woman is *NOT* an object!
							2. This `woman` class has to implement `interface Comparable`
							3. Write a `compareTo` method
								* http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html
							4. Done.
					</section>
					<section data-markdown>
						## How about Subtasks 2 and 3?
						* Because `UpdateDilation()`
						* This requires ability to modify a key inside the Binary Heap where this key can be anywhere in the Binary Heap
							* not necessarily in the root – the easiest place
						* This operation is sometimes called as `heapUpdateKey()`
						* To do this efficiently, we need something else not yet taught in Lecture 04, which is left for students to explore on their own or discuss among each other
						* detailed solutions by next week, after PS2 is due \_(:3J∠)_
					</section>
					<section data-markdown>
						## Hacking Solution for Subtask 2
						* We know UpdateDilation() can make things difficult
						* But in Subtask 2, N ≤ 10
						* You can just use an array of size 10 and keep re-sorting the positions of up to 10 women for every `UpdateDilation()`
						* This way, if done correctly, can give you at least 75 marks
						* You have 1.5 more days to do this to salvage some marks 
					</section>
					<section data-markdown>
						## PS3 Overview
						* PS3 is already out since Sunday 08 Sep 2013, 8pm
						* It is about Graph Data Structure and Graph Traversal
						* Given a graph
						* Find the lowest rating 'important' vertex
						* Important vertex - if removed, graph is disconnected
						* Rating is given directly
						* Expect O(V x V + V x E)
						* How to check if a graph is disconnected?
						* More hints next week ;P
					</section>
				</section>
				<section>
					<section data-markdown>
						# CS2010 Lab 04
						## And Online Quiz 1 (Trial)
					</section>
					<section data-markdown>
						## PS2 Debrief - Common Mistakes

						* Mostly OK
						* TLE in C: Likely using `remove()` method in `PriorityQueue` for GiveBirth or any other O(n) like searching the entire PQ for a woman of a certain name

						> Implementation note: this implementation provides
						> O(log(n)) time for the enqueing and dequeing methods
						> (offer, poll, remove() and add); **linear time** for the
						> remove(Object) and contains(Object) methods; and
						> constant time for the retrieval methods (peek,
						> element, and size).

						* Again, the test case is not very strong and some managed to pass...
					</section>
					<section data-markdown>
						## Expected solution(s)

						* Easiest: Use more than one bBSTs
							* One bBST to map woman name to dilation and arrival time
							* Another bBST to emulate the PQ, you can use Java TreeMap/TreeSet
							* Arrival is simple insertion
							* Query is FindMax
							* GiveBirth is search for that woman and remove it
							* IncreaseKey: search the woman, delete her old data, reinsert new data
						* Lazy update using PQ (advanced topic, see CP3)
						* Longest to code: Write your own Binary Heap class to do `UpdateKey`, use `HashMap` or `TreeMap` to map name to index
					</section>
					<section data-markdown>
						## About PS3
						* How to identify an important room?
						* Have we learned an algorithm to check graph connectivity in Lecture 06?
						* Can we use UFDS from e-Lecture 05?
						* What is the major difference between Subtask 2 and Subtask 3?
					</section>
					<section data-markdown>
						## PS3 Subtask 4 and PS Bonus
						* Mostly for CS2010R students
						* **You may lose your recess week if you attempt them :D**	
					</section>
					
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: "beige", // available themes are in /css/theme
				transition: "linear", // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
